<div>
  <!-- Display flash messages -->
  <%- messages.notice %>

  <!-- Display validation errors -->
  <% if (errors) { %>
    <ul class="notice">
      <% errors.array().forEach(error => { %>
        <li><%= error.msg %></li>
      <% }) %>
    </ul>
  <% } %>

  <h1><%= title %></h1>

    <% if (accountData) { %>
    <% const account = accountData; %>
   

  <!-- Account Update Form -->
  <section>
    <h2> <%= account.account_firstname %> Update Account Information</h2>
    <form action="/account/update" method="POST">
      <!-- Hidden account_id -->
      <input type="hidden" name="account_id" value="<%= account.account_id %>">

      <label for="account_firstname">First Name</label>
<input 
  type="text" 
  id="account_firstname" 
  name="account_firstname" 
  value="<%= account.account_firstname || '' %>" 
  required
>

<label for="account_lastname">Last Name</label>
<input 
  type="text" 
  id="account_lastname" 
  name="account_lastname" 
  value="<%= account.account_lastname || '' %>" 
  required
>

<label for="account_email">Email</label>
<input 
  type="email" 
  id="account_email" 
  name="account_email" 
  value="<%= account.account_email || '' %>" 
  required
>

      <button type="submit">Update Account</button>
    </form>
  </section>

  <!-- Change Password Form -->
  <section>
    <h2>Change Password</h2>
    <form action="/account/password" method="POST">
      <!-- Hidden account_id -->
      <input type="hidden" name="account_id" value="<%= account.account_id %>">

      <label for="account_password">New Password</label>
    
<input 
  type="password" 
  id="account_password" 
  name="account_password"
  pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{8,}$"
  title="Minimum 8 characters, including uppercase, lowercase, number, and special character."
  required
>
      <small>Enter a new password. Must be at least 8 characters, including letters and numbers.</small>

      <button type="submit">Change Password</button>
    </form>
  </section>

    <% } else { %>
    <p>You are not logged in.</p>
  <% } %>

</div>